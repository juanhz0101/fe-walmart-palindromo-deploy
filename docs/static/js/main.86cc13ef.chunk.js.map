{"version":3,"sources":["helpers/getProducts.js","components/products/ProductGridItem.js","components/products/ProductGrid.js","hooks/useFetchProducts.js","components/products/AddSearch.js","PalindromeApp.js","index.js"],"names":["getProducts","paginationUrl","a","paginationConfig","getPaginationConfig","url","fetch","response","json","resources","pagination","products","map","id","brand","description","image","price","getPaginationLimits","page","limit","paginationInfo","getProductsQuery","query","encodeURI","priceWithDiscount","discount","split","isUrl","URL","params","URLSearchParams","search","get","ProductGridItem","className","src","alt","ProductGrid","setQuery","useState","data","loading","state","setState","useEffect","then","useFetchProducts","product","totalResources","totalPages","disabled","previous","onClick","e","q","next","first","last","AddSearch","inputValue","setInputValue","type","value","onChange","target","placeholder","PalindromeApp","defaultQuery","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86cc13ef.chunk.js","sourcesContent":["export const getProducts = async (paginationUrl) => {\n\n    const paginationConfig = getPaginationConfig(paginationUrl)\n    const url = `https://be-walmart-palindromo-deploy-xudt4.ondigitalocean.app/products?${paginationConfig}`;\n    const response = await fetch( url ,{\n        'mode': 'cors',\n        'headers': {\n            'Access-Control-Allow-Origin': '*',\n        }\n    } );\n    const { resources, pagination } = await response.json();\n    const products = resources.map(({id, brand, description, image, price }) => {\n        return { id, brand, description, image:`https://${image}`, price } \n    })\n\n    const {page, limit} = getPaginationLimits(url)\n    pagination.page = page;\n    pagination.limit = limit;\n\n    return {\n        products,\n        paginationInfo: pagination\n    }\n\n}\n\nexport const getProductsQuery = async ( query, paginationUrl ) => { \n    const paginationConfig = getPaginationConfig(paginationUrl)\n    const url = `https://be-walmart-palindromo-deploy-xudt4.ondigitalocean.app/products/search?query=${ encodeURI( query ) }&${paginationConfig}`;\n    const response = await fetch( url ,{\n        'mode': 'cors',\n        'headers': {\n            'Access-Control-Allow-Origin': '*',\n        }\n    } );\n    const { resources, pagination } = await response.json();\n    const products = resources.map(({id, brand, description, image, price, priceWithDiscount, discount  }) => {\n\n        return {id, brand, description, image:`https://${image}`, price, priceWithDiscount, discount }\n    })\n\n    const {page, limit} = getPaginationLimits(url)\n    pagination.page = page;\n    pagination.limit = limit;\n    return {\n        products,\n        paginationInfo: pagination\n    }\n}\n\nconst getPaginationConfig = (url) => {\n    return url.split('?')[1]\n}\n\nconst getPaginationLimits = (url) => {\n        \n    const isUrl = new URL(url)\n    const params = new URLSearchParams(isUrl.search)\n\n    return { page:params.get('page') , limit: params.get('limit')}\n}","import React from 'react'\nimport PropTypes from 'prop-types'\n\nfunction ProductGridItem( { id, brand, description, image, price, priceWithDiscount, discount} ) {\n\n    return (\n        <div className=\"card animate__animated animate__fadeIn\">\n            <img src={image} alt={brand}/>\n            <p>ID {id}</p>\n            <p className=\"brand\">Marca: {brand}</p>\n            <p>Descripcion: {description}</p>\n            <p>Precio original: {price}</p>\n            {priceWithDiscount && <p>Precio con descuento: {priceWithDiscount} </p> }\n            {discount && <p>Precio con descuento: {discount} </p> }\n        </div>\n    )\n}\n\nexport default ProductGridItem\n\nProductGridItem.propTypes = {\n    brand: PropTypes.string.isRequired,\n    image: PropTypes.string.isRequired\n}\n","import React from 'react'\nimport { useFetchProducts } from '../../hooks/useFetchProducts'\nimport ProductGridItem from './ProductGridItem';\nimport PropTypes from 'prop-types';\n\n\nfunction ProductGrid({ query, setQuery }) {\n    \n    const { data:products, loading, paginationInfo } = useFetchProducts( query );\n\n    const heandleButtonPreviousPage = (e) => ( setQuery(q => ({ ...q, 'pagination': paginationInfo.previous })) )\n    const heandleButtonNextPage = (e) => ( setQuery(q => ({ ...q, 'pagination': paginationInfo.next })) )\n    const heandleButtonFirstPage = (e) => ( setQuery(q => ({ ...q, 'pagination': paginationInfo.first })) )\n    const heandleButtonLastPage = (e) => ( setQuery(q => ({  ...q, 'pagination': paginationInfo.last })) )\n\n    return (\n        <>\n            { loading && <p className=\"animate__animated animate__flash\">Loading</p>}\n\n            <div className=\"card-grid\">\n                {\n                    products.map( ( product ) =>  (\n                    \n                        <ProductGridItem \n                            key={product.id} \n                            { ...product} \n                            />\n                    )) \n                }\n            </div>\n\n            <div >\n                <p>Total registros: {paginationInfo.totalResources}</p>\n                <p>Total registros por pagina: {paginationInfo.limit}</p>\n                <p>Total paginas: {paginationInfo.totalPages}</p>\n                <p>Pagina actual: {paginationInfo.page}</p>\n                <br />\n                <p>\n                    <button disabled={paginationInfo.previous === null} onClick={ heandleButtonPreviousPage }>Previa</button>\n                    \n                    <button disabled={paginationInfo.next === null} onClick={ heandleButtonNextPage }>Siguiente</button>\n\n                    <button disabled={paginationInfo.first === null} onClick={ heandleButtonFirstPage }>Primera</button>\n\n                    <button disabled={paginationInfo.last === null} onClick={ heandleButtonLastPage }>Ultima</button>\n                </p>\n            </div>\n\n        </>\n        \n    )\n}\n\nexport default ProductGrid\n\nProductGrid.propTypes = {\n    query: PropTypes.object.isRequired,\n    setQuery: PropTypes.func.isRequired\n}\n\n","import { useEffect, useState } from \"react\"\nimport { getProducts, getProductsQuery } from '../helpers/getProducts';\n\nexport  const useFetchProducts = ({query = '', pagination = '/products?page=1&limit=20'} ) => {\n\n    const [state, setState] = useState({\n        data: [],\n        loading: true,\n        paginationInfo: {}\n    });\n\n    useEffect( () => {\n\n        if (query === '') {\n            getProducts(pagination)\n            .then( ({ products, paginationInfo }) => {\n                setState({\n                    data: products,\n                    loading: false,\n                    paginationInfo\n                })\n            })\n        }else{\n            getProductsQuery(query, pagination)\n            .then( ({ products, paginationInfo }) => {\n                setState({\n                    data: products,\n                    loading: false,\n                    paginationInfo\n                })\n            })\n        }\n\n    }, [ query, pagination])\n\n    return state\n\n}","import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\n\nfunction AddSearch({ setQuery }) {\n\n    const [inputValue, setInputValue] = useState('')\n\n    useEffect(() => {\n        setInputValue(inputValue);\n        if (inputValue === ' ') {\n            setInputValue('');\n        }else{\n            setQuery(q => ({ ...q, 'query': inputValue }))\n        }\n       \n    }, [inputValue, setQuery]);\n\n    return (\n        \n        <form>\n            <input\n                type=\"text\" \n                value={inputValue}\n                onChange={ (e) => setInputValue(e.target.value) }\n                placeholder=\"Por favor ingrese un Nombre o ID de producto\"\n            />\n        </form>\n    )\n}\n\n\nAddSearch.propTypes = {\n    setQuery: PropTypes.func.isRequired\n}\n\nexport default AddSearch\n","import React, { useState } from 'react'\nimport ProductGrid from './components/products/ProductGrid'\nimport AddSearch from './components/products/AddSearch'\n\nfunction PalindromeApp({ defaultQuery = { query: '', pagination:'/products?page=1&limit=20'} }) {\n\n    const [query, setQuery] = useState(defaultQuery)\n    \n    return (\n        <>\n            <h2>Lider Palindromo</h2>\n            <hr />\n            <AddSearch setQuery={setQuery} /> \n            <ProductGrid query={query} setQuery={setQuery} /> \n            \n        </>\n    )\n}\n\nexport default PalindromeApp","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport PalindromeApp  from './PalindromeApp';\nimport './index.css';\n\nReactDOM.render(\n    <PalindromeApp />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}